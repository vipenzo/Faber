{
"version":3,
"file":"module$node_modules$codemirror$addon$edit$matchbrackets.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/codemirror/addon/edit/matchbrackets.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$codemirror$addon$edit$matchbrackets\"] = function(global,require,module,exports) {\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && matching[line.text.charAt(pos)]) ||\n        matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  var currentlyHighlighted = null;\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n};"],
"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","findMatchingBracket","cm","where","config","line","getLineHandle","pos","ch","afterCursor","test","getWrapperElement","className","match","matching","text","charAt","dir","strict","style","getTokenTypeAt","Pos","found","scanForBracket","from","to","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","re","bracketRegex","lineEnd","Math","min","lastLine","max","firstLine","lineNo","getLine","length","end","undefined","push","pop","matchBrackets","autoclear","maxHighlightLen","state","maxHighlightLineLength","marks","ranges","listSelections","i","empty","head","markText","ie_lt8","focused","focus","clear","operation","setTimeout","doMatchBrackets","currentlyHighlighted","navigator","userAgent","document","documentMode","defineOption","val","old","Init","off","on","defineExtension","oldConfig"]
}
