{"version":3,"sources":["re_db/d$macros.cljc"],"mappings":"","names":[],"sourcesContent":["(ns re-db.d)\n\n;; warning, these macros are not currently used or maintained\n;\n;(defmacro branch [db & body]\n;  `(let [db-before# ~db]\n;     (binding [~'re-db.d/*db* (~'atom db-before#)\n;               ~'re-db.core/*mute* true\n;               ~'re-db.core/*db-log* (~'atom (or (~'some-> ~'re-db.core/*db-log* ~'deref)\n;                                                 {:db-before db-before#\n;                                                  :db-after  db-before#\n;                                                  :reports   {}}))]\n;       (do ~@body)\n;       @~'re-db.core/*db-log*)))\n;\n;(defmacro try-branch [db on-error & body]\n;  `(let [db-before# ~db]\n;     (try (branch db-before# ~@body)\n;          (catch :default e#\n;            (branch db-before# e# (~on-error e#))))))"]}