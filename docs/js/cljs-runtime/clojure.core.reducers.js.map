{"version":3,"sources":["clojure/core/reducers.cljs"],"mappings":";AAmBA,AAAA,AAAOA,AAAQC;AAAf,AACEA;;AAEF,AAAA,AAAOC,AAAUD;AAAjB,AACE,AAACA,AAAAA,AAAAA;;AAEH,AAAA,AAAOE,AAAQC;AAAf,AACEA;;AAEF,AAAA,AAAOC,AAAQD;AAAf,AACE,AAACA,AAAAA,AAAAA;;AAGH,AAAA;;;;;AAAA,AAAAE,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMD,AAIFP,AAAES;AAJN,AAIY,AAACC,AAAOV,AAAE,AAACA,AAAAA,AAAAA,AAAGS;;;AAJ1B,AAAA,AAAA,AAAMF,AAKFP,AAAEW,AAAKF;AALX,AAMK,AAAI,AAACG,AAAKH;AACR,AAACI,AAAWJ,AAAKT,AAAEW;;AACnB,AACE,AAAA,AAAMF;AAAME;;AADd,AAEE,AAACG,AAAOL;AAAM,AAAAM,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA,AAAAA,AAAgBN,AAAAA,AAAKT,AAAAA,AAAEW,AAAAA;;AAFvC,AAGQ,AAACM,AAAQR,AAAKT,AAAEW;;;;;;;AAX/B,AAAA,AAAA,AAAMJ;;AAAN,AAaA,AAAA;AAAA;;;AAAA,AAAakB;;AAAb,AAAAP,AAAA,AACcT,AAAKiB,AAAEC,AAASC;AAD9B,AAAA,AAAAT,AAAA,AAAA,AAAA,AAAA,AACcV,AAAAA;AADdW,AAAA,AAAAC,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAA,AAAAA,AAAAA,AACcX,AAAAA,AAAKiB,AAAAA,AAAEC,AAAAA,AAASC,AAAAA;;AAD9B,AAAAL,AAAA,AAAAF,AAAA;AAAA,AAAA,AAAA,AAAA,AAAAE,AAAA;AAAA,AAAAA,AAAAA,AAAAA,AACcd,AAAAA,AAAKiB,AAAAA,AAAEC,AAAAA,AAASC,AAAAA;;AAD9B,AAAA,AAAAJ,AAAA,AACcf;;;;AADd,AAAA,AAAA,AACGY,AAAWZ,AAAKiB,AAAEC,AAASC;AAD9B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACcnB,AAAAA;AADd,AACcA,AAAAA,AAAKiB,AAAEC,AAASC;;AAD9B,AAAAV,AACcT,AAAKiB,AAAEC,AAASC;;;;AAD9B,AAGA,AAAA;;;;;;;;;;;;;AAAA,AAAAvB,AAAMyB;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAtB,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMsB,AAYFF,AAAQnB;AAZZ,AAYkB,AAACsB,AAAKH,AAAQA,AAAQnB;;;AAZxC,AAAA,AAAA,AAAMqB,AAaFH,AAASC,AAAQnB;AAbrB,AAa2B,AAAA,AAACsB,AAASJ,AAASC,AAAQnB;;;AAbtD,AAAA,AAAA,AAAMqB,AAcFJ,AAAEC,AAASC,AAAQnB;AAdvB,AAeK,AAACY,AAAUZ,AAAKiB,AAAEC,AAASC;;;AAfhC,AAAA,AAAA,AAAME;;AAAN,AAiBA;;;;;;AAAA,AAAME,AAKFvB,AAAKwB;AALT,AAMK,AAAA,AAAA,AAAAC,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAAA;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAAC;;AAAA,AAAA,AAAAD,AAAA;AADD9B,AAAKwB,AACJ,AAAA,AAAAK,AAAAE;;;AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAC;;AAAA,AAAA,AAAAA,AAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,AAAAF,AAAA,AAEYQ,AAAKC;;AAFjB,AAAA,AAAA,AAEYD;AAFZ,AAGI,AAASA,AAAKC,AAAG,AAACA,AAAAA,AAAAA;;;AAHtB,AAAA,AAAA,AAAAT,AAAA,AAIYU,AAAED,AAAGpC;;AAJjB,AAAA,AAAA,AAIYqC;AAJZ,AAKI,AAAC/B,AAAQR,AAAK,AAACwB,AAAAA,AAAAA,AAAGc,AAAAA,AAAIpC;;;AAL1B,AAAA,AAAA2B,AAAA;AAAA,AAAA,AAAA;;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA,AAAAG,AAAAC,AAAAC;AAAA,AAAA,AAAAC,AAAAF,AAAA;;;AAAA;;;AADDjC,AAAKwB,AACJY,AAAA,AAAAL;AADD/B,AAAKwB,AACJ,AAAA,AAAAK,AAAAE;;;AAAAF;;AADD7B,AAAKwB,AACJ,AAAAK,AAAA;;AAOL;;;;;;AAAA,AAAMW,AAKFxC,AAAKwB;AALT,AAMK,AAAA,AAAA,AAAAC,AAAAC,AAAAC,AAAAc;AAAA;AAAA,AAAA,AAAA;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAAC;;AAAA,AAAA,AAAAD,AAAA;AADD3C,AAAKwB,AACJ,AAAA,AAAAkB,AAAAE;;;AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAC;;AAAA,AAAA,AAAAA,AAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,AAAAF,AAAA,AAEYH,AAAED;;AAFd,AAAA,AAAA,AAEYC;AAFZ,AAGI,AAAC/B,AAAQR,AAAK,AAACwB,AAAAA,AAAAA,AAAGc,AAAAA,AAAI,AAACA,AAAAA,AAAAA;;;AAH3B,AAAA,AAAA,AAAAI,AAAA,AAIYH,AAAED,AAAGpC;;AAJjB,AAAA,AAAA,AAIYqC;AAJZ,AAKI,AAAC/B,AAAQR,AAAK,AAACwB,AAAAA,AAAAA,AAAGc,AAAAA,AAAIpC;;;AAL1B,AAAA,AAAA,AAAAwC,AAAAG;;AAAA,AAAA,AAAA,AAAAH,AAAA,AAQcH,AAAEtB,AAAEC,AAASC;;AAR3B,AAAA,AAAA,AAQcoB;AARd,AASI,AAAC3B,AAAUZ,AAAKiB,AAAEC,AAAS,AAACM,AAAAA,AAAAA,AAAGL,AAAAA;;;AATnC,AAAA,AAAAuB,AAAA;AAAA,AAAA,AAAA;;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA,AAAAV,AAAAC,AAAAC;AAAA,AAAA,AAAAC,AAAAF,AAAA;;;AAAA;;;AADDjC,AAAKwB,AACJsB,AAAA,AAAAF;AADD5C,AAAKwB,AACJ,AAAA,AAAAkB,AAAAE;;;AAAAF;;AADD1C,AAAKwB,AACJ,AAAAkB,AAAA;;AAWL,AAAA;;;AAAA,AAAA9C,AAAYoD;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAjD,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAYiD,AAGTzD;AAHH,AAAA,AAAA0D;AAAA,AAAA,AAAAA,AAAYC,AAGT3D;;;;AAHH,AAAA,AAAA,AAAYyD,AAGTzD,AAAES;AAHL,AAIE,AAACwC,AAAOxC,AACP,AAAKsC;AAAL,AACE;;;AAAA,AAAA,AAAMA,AAAAA,AAAAA;;AACCe,AAAME;AADb,AAAA,AAAAJ,AAEYE;AAFZD,AAAA,AAEiB7D,AAAAA,AAAAA,AAAIgE,AAAAA;AAFrB,AAAA,AAAAJ,AAAAC,AAAAD,AAAAC,AAESd,AAAAA,AAAAA;;AADFe,AAAIC,AAAEC;AADb,AAEQ,AAAAC,AAAIH;AAAJI,AAAQ,AAAClE,AAAAA,AAAAA,AAAE+D,AAAAA,AAAEC,AAAAA;AAAb,AAAA,AAAAC,AAAAC,AAAAD,AAAAC,AAACnB,AAAAA,AAAAA;;AADFe,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AAPlB,AAAA,AAAA,AAAYP;;AAAZ,AAUA,AAAA;;;;AAAA,AAAApD,AAAY+D;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAA5D,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAY4D,AAITpE;AAJH,AAAA,AAAA0D;AAAA,AAAA,AAAAA,AAAYW,AAITrE;;;;AAJH,AAAA,AAAA,AAAYoE,AAITpE,AAAES;AAJL,AAKE,AAACwC,AAAOxC,AACP,AAAKsC;AAAL,AACE;;;AAAA,AAAA,AAAMA,AAAAA,AAAAA;;AACCe,AAAME;AADb,AAAA,AAAA,AAEStD,AAAOqC,AAAGe,AAAK9D,AAAAA,AAAAA,AAAIgE,AAAAA;;AADrBF,AAAIC,AAAEC;AADb,AAEQ,AAACtD,AAAOqC,AAAGe,AAAI,AAAC9D,AAAAA,AAAAA,AAAE+D,AAAAA,AAAEC,AAAAA;;AADrBF,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AARlB,AAAA,AAAA,AAAYI;;AAAZ,AAWA,AAAA;;;;AAAA,AAAA/D,AAAYkE;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAA/D,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAY+D,AAITE;AAJH,AAAA,AAAAf;AAAA,AAAA,AAAAA,AAAYc,AAITC;;;;AAJH,AAAA,AAAA,AAAYF,AAITE,AAAKhE;AAJR,AAKE,AAACwC,AAAOxC,AACP,AAAKsC;AAAL,AACE;;;AAAA,AAAA,AAAMA,AAAAA,AAAAA;;AACCe,AAAME;AADb,AAAA,AAAA,AAEaS,AAAAA,AAAAA,AAAOT,AAAAA;AAFpB,AAGWjB,AAAAA,AAAAA,AAAGe,AAAAA,AAAME,AAAAA;;AACVF;;;AAHHA,AAAIC,AAAEC;AADb,AAEQ,AAAI,AAACS,AAAAA,AAAAA,AAAKV,AAAAA,AAAEC,AAAAA;AACV,AAACjB,AAAAA,AAAAA,AAAGe,AAAAA,AAAIC,AAAAA,AAAEC,AAAAA;;AACVF;;;AAHHA,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AARlB,AAAA,AAAA,AAAYO;;AAAZ,AAaA,AAAA;;;;;AAAA,AAAAlE,AAAYsE;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAnE,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAYmE;AAAZ,AAAA,AAAAjB;AAAA,AAAA,AAAAA,AAAYkB;;;;AAAZ,AAAA,AAAA,AAAYD,AAKTlE;AALH,AAME,AAACwC,AAAOxC,AACP,AAAKsC;AAAL,AACE;;;AAAA,AACM,AAACA,AAAAA,AAAAA;;AACHe,AAAIE;AAFR,AAGK,AAAI,AAACa,AAAYb;AACf,AAAC/C,AAAQ,AAAC2D,AAAQZ,AAAGjB,AAAGe;;AACxB,AAACf,AAAAA,AAAAA,AAAGe,AAAAA,AAAIE,AAAAA;;;AAHXF,AAAIE;;;;;AAAJF,AAAIE;;;;;;;;;;;AAVb,AAAA,AAAA,AAAYW;;AAAZ,AAeA,AAAA;;;;AAAA,AAAAtE,AAAY0E;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAvE,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAYuE,AAITN;AAJH,AAAA,AAAAf;AAAA,AAAA,AAAAA,AAAYsB,AAITP;;;;AAJH,AAAA,AAAA,AAAYM,AAITN,AAAKhE;AAJR,AAKE,AAAC+D,AAAO,AAACS,AAAWR,AAAMhE;;;AAL5B,AAAA,AAAA,AAAYsE;;AAAZ,AAOA,AAAA;;;AAAA,AAAA1E,AAAY8E;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAA3E,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAY2E,AAGTV;AAHH,AAAA,AAAAf;AAAA,AAAA,AAAAA,AAAY0B,AAGTX;;;;AAHH,AAAA,AAAA,AAAYU,AAGTV,AAAKhE;AAHR,AAIE,AAACuB,AAAQvB,AACR,AAAKsC;AAAL,AACE;;;AAAA,AAAA,AAAMA,AAAAA,AAAAA;;AACCe,AAAME;AADb,AAAA,AAAA,AAEaS,AAAAA,AAAAA,AAAOT,AAAAA;AAFpB,AAGWjB,AAAAA,AAAAA,AAAGe,AAAAA,AAAME,AAAAA;;AAHpB,AAIWqB,AAAQvB;;;AAHZA,AAAIC,AAAEC;AADb,AAEQ,AAAI,AAACS,AAAAA,AAAAA,AAAKV,AAAAA,AAAEC,AAAAA;AACV,AAACjB,AAAAA,AAAAA,AAAGe,AAAAA,AAAIC,AAAAA,AAAEC,AAAAA;;AACV,AAACqB,AAAQvB;;;AAHZA,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AAPlB,AAAA,AAAA,AAAYmB;;AAAZ,AAYA,AAAA;;;AAAA,AAAA9E,AAAYkF;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAA/E,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAY+E,AAGT7D;AAHH,AAAA,AAAAgC;AAAA,AAAA,AAAAA,AAAY8B,AAGT9D;;;;AAHH,AAAA,AAAA,AAAY6D,AAGT7D,AAAEjB;AAHL,AAIE,AAACuB,AAAQvB,AACR,AAAKsC;AAAL,AACE,AAAM0C,AAAI,AAACC,AAAKhE;AAAhB,AACE;;;AAAA,AAAA,AAAMqB,AAAAA,AAAAA;;AACFe,AAAME;AADV,AAAA,AAEM4B,AAAMH,AAAII;;AAFhB,AAAA,AAAA,AAAAF,AAAA,AAGgBF;AAHhB,AAIQJ,AAAQvB;;AAJhB,AAKQf,AAAAA,AAAAA,AAAGe,AAAAA,AAAME,AAAAA;;;AAJbF,AAAIC,AAAEC;AADV,AAEK,AAAC4B,AAAMH,AAAII;;AACX,AAAI,AAAA,AAAAF,AAAA,AAAOF;AACT,AAACJ,AAAQvB;;AACT,AAACf,AAAAA,AAAAA,AAAGe,AAAAA,AAAIC,AAAAA,AAAEC,AAAAA;;;AAJbF,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AARjB,AAAA,AAAA,AAAYuB;;AAAZ,AAcA,AAAA;;;AAAA,AAAAlF,AAAY0F;AAAZ,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAvF,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAYuF,AAGTrE;AAHH,AAAA,AAAAgC;AAAA,AAAA,AAAAA,AAAYsC,AAGTtE;;;;AAHH,AAAA,AAAA,AAAYqE,AAGTrE,AAAEjB;AAHL,AAIE,AAACuB,AAAQvB,AACR,AAAKsC;AAAL,AACE,AAAM0C,AAAI,AAACC,AAAKhE;AAAhB,AACE;;;AAAA,AAAA,AAAMqB,AAAAA,AAAAA;;AACFe,AAAME;AADV,AAAA,AAEM4B,AAAMH,AAAII;;AAFhB,AAAA,AAAA,AAAAF,AAAA,AAGgBF;AAHhB,AAIQ1C,AAAAA,AAAAA,AAAGe,AAAAA,AAAME,AAAAA;;AACVF;;;AAJHA,AAAIC,AAAEC;AADV,AAEK,AAAC4B,AAAMH,AAAII;;AACX,AAAI,AAAA,AAAAF,AAAA,AAAOF;AACT,AAAC1C,AAAAA,AAAAA,AAAGe,AAAAA,AAAIC,AAAAA,AAAEC,AAAAA;;AACVF;;;AAJHA,AAAIC,AAAEC;;;;;AAANF,AAAIC;;AAAJD,AAAIC,AAAEC;;;;;;;;;;;;AARjB,AAAA,AAAA,AAAY+B;;AAAZ,AAeA,AAAA;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,AAAA,AAASE,AAEEjD;;AAFX,AAAA,AAAA,AAEWA;AAFX,AAEcyC;;;AAFd,AAAA,AAAA,AAAA,AAASQ,AAKAjD;;AALT,AAAA,AAAA,AAKSA;AALT,AAKY,AAACqD,AAAO,AAACC,AAAIH,AAAM,AAACG,AAAIF;;;AALpC,AAAA,AAAA,AAAA,AAASH,AAQGnD,AAAKC;;AARjB,AAAA,AAAA,AAQYD;AARZ,AAQqB,AAASA,AAAKC,AAAG,AAACA,AAAAA,AAAAA;;;AARvC,AAAA,AAAA,AAAA,AAASkD,AAUJjD,AAAGD,AAAGpC;;AAVX,AAAA,AAAA,AAUKqC;AAVL,AAWI,AAAC/B,AACAmF,AAAMrD,AACN,AAAC9B,AAAQkF,AAAKpD,AAAGpC;;;AAbtB,AAAA,AAAA,AAAA2C,AAAS2C;;AAAT,AAAA,AAAA,AAAA,AAASA,AAiBJnD,AAAKpB,AAAEC,AAASC;;AAjBrB,AAAA,AAAA,AAiBKkB;AAjBL,AAkBI,AAASA,AAAKlB;;;AAlBlB,AAAA,AAAA,AAASqE;AAAT,AAAA,AAAA;;;AAAA,AAAA,AAAA,AAASA;;AAAT,AAAA,AAAA,AAASA;;AAAT,AAAA,AAAA,AAAAxD,AAAAC,AAAAC,AAASsD;AAAT,AAAA,AAAArD,AAAAF,AAAA;;;AAAA;;;AAAA,AAASwD,AAAKT,AAAIU,AAAKC;AAAvB,AAAA,AAAAH,AAAcR,AAAIU,AAAKC;;;AAAdH,AAoBT,AAAA;;;;;;;;AAAA,AAAA5F,AAAMmG;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAhG,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMgG;AAAN,AAOM;;;AAPN,AAAA,AAAA,AAAMA,AAQFC;AARJ,AASK;;;AAAA,AACM,AAACA,AAAAA,AAAAA;;AACHN,AAAKC;AAFT,AAEgB,AAACM,AAAIP,AAAKC;;AAAtBD,AAAKC;;;;;AAALD,AAAKC;;;;;;;;;;AAXd,AAAA,AAAA,AAAMI,AAYFL,AAAKC;AAZT,AAaK,AACE,AAAA,AAAO,AAACO,AAAMR;AAAOC;;AADvB,AAEE,AAAA,AAAO,AAACO,AAAMP;AAAQD;;AAFxB,AAIE,AAAAF,AAAM,AAAG,AAACU,AAAMR,AAAM,AAACQ,AAAMP,AAAQD,AAAKC;;;;;;AAjBjD,AAAA,AAAA,AAAMI;;AAAN,AAmBA;;;AAAA,AAAMI,AAEHC,AAAIC;AAFP,AAGE,AAAAC,AAAMF;AAAN,AAAA,AAAAE,AAAiBD;;AAAjBC;;AAEF;;;AAAA,AAAMC,AAEHvG;AAFH,AAGE,AAACsB,AAAKyE,AAAII,AAAQnG;;AAEpB;;;;;AAAA,AAAMwG,AAIHC,AAAGT;AAJN,AAKE;;;AAAA,AACM,AAACA,AAAAA,AAAAA;;AACHU,AAAEC;AAFN,AAES,AAACF,AAAAA,AAAAA,AAAGC,AAAAA,AAAEC,AAAAA;;AAAXD,AAAEC;;;;;AAAFD,AAAEC;;;;;;;;;AAGR,AAqBA,AAAA,AAAOC,AACJrD,AAAEtC,AAAEC,AAASC;AADhB,AAEE,AACC,AAAC0F,AAAOtD;AAAG,AAACrC,AAAAA,AAAAA;;AADb,AAEC,AAAI,AAACgF,AAAM3C,AAAGtC;AAAG,AAAChB,AAAOkB,AAAQ,AAACD,AAAAA,AAAAA,AAAUqC;;AAF7C,AAIC,AAAMuD,AAAM,AAAA,AAACC,AAAK,AAACb,AAAM3C;AACnByD,AAAG,AAAA,AAACC,AAAO1D,AAAIuD;AACfI,AAAG,AAACD,AAAO1D,AAAEuD,AAAM,AAACZ,AAAM3C;AAC1B4D,AAAG,AAAKC;AAAL,AAAA;AAAA,AAAa,AAACR,AAAAA,AAAAA,AAAQQ,AAAAA,AAAMnG,AAAAA,AAAEC,AAAAA,AAASC,AAAAA;;;AAHhD,AAIE,AAAA,AAAC3B;AAAD,AACE,AAAM8C,AAAG,AAAC6E,AAAGH;AACPK,AAAG,AAAC/H,AAAO,AAAC6H,AAAGD;AADrB,AAEE,AAACzH,AAAO4H;;AACR,AAAAC,AAAU,AAAChF;AAAXiF,AAAe,AAAC5H,AAAO0H;AAAvB,AAAA,AAAAC,AAAAC,AAAAD,AAAAC,AAACrG,AAAAA,AAAAA;;;;;;AAEV,AAAA,AAAA,AAAAsG,AAAAxG,AAAA,AAAA;;AAAA,AAAAwG,AAAA5G,AAAA,AAEC,AACEZ,AAAKiB,AAAEC,AAASC;AADlB,AAEC,AAACD,AAAAA,AAAAA;;;AAJH,AAAA,AAAAsG,AAAAxG,AAAA,AAAA;;AAAA,AAAAwG,AAAA5G,AAAA,AAOC,AACEZ,AAAKiB,AAAEC,AAASC;AADlB,AAGC,AAAClB,AAAOkB,AAAQ,AAACD,AAAAA,AAAAA,AAAUlB;;;AAV7B,AAAA,AAAA,AAAA,AAAA6C,AAYC4E;;AAZD,AAAA,AAAA,AAYCA,AACA,AACElE,AAAEtC,AAAEC,AAASC;AADf,AAAA,AAAA,AACEoC;AADF,AAEC,AAACqD,AAAQrD,AAAEtC,AAAEC,AAASC","names":["clojure.core.reducers/fjtask","f","clojure.core.reducers/fjinvoke","clojure.core.reducers/fjfork","task","clojure.core.reducers/fjjoin","var_args","G__45364","clojure.core.reducers/reduce","js/Error","coll","clojure.core.reducers.reduce","init","cljs.core/map?","cljs.core/-kv-reduce","cljs.core/array?","fexpr__45394","cljs.core/array-reduce","cljs.core/-reduce","clojure$core$reducers$CollFold$coll_fold$dyn","x__4428__auto__","m__4429__auto__","clojure.core.reducers/coll-fold","goog/typeOf","m__4426__auto__","cljs.core/missing-protocol","clojure.core.reducers/CollFold","n","combinef","reducef","G__45410","clojure.core.reducers/fold","clojure.core.reducers.fold","clojure.core.reducers/reducer","xf","js/clojure","js/clojure.core","js/clojure.core.reducers","js/clojure.core.reducers.t_clojure$core$reducers45427","clojure.core.reducers/t_clojure$core$reducers45427","_45429","meta45428","this__4369__auto__","writer__4370__auto__","opt__4371__auto__","cljs.core/-write","clojure.core.reducers/->t_clojure$core$reducers45427","this","f1","_","clojure.core.reducers/folder","js/clojure.core.reducers.t_clojure$core$reducers45443","clojure.core.reducers/t_clojure$core$reducers45443","_45445","meta45444","cljs.core/PROTOCOL_SENTINEL","clojure.core.reducers/->t_clojure$core$reducers45443","G__45450","clojure.core.reducers/map","x__4240__auto__","clojure.core.reducers.map","G__45451","G__45452","ret","k","v","G__45453","G__45454","G__45460","clojure.core.reducers/mapcat","clojure.core.reducers.mapcat","G__45472","clojure.core.reducers/filter","clojure.core.reducers.filter","pred","G__45475","clojure.core.reducers/flatten","clojure.core.reducers.flatten","cljs.core/sequential?","G__45478","clojure.core.reducers/remove","clojure.core.reducers.remove","cljs.core/complement","G__45483","clojure.core.reducers/take-while","clojure.core.reducers.take_while","cljs.core/reduced","G__45490","clojure.core.reducers/take","clojure.core.reducers.take","cnt","cljs.core.atom","cljs.core/deref","cljs.core.swap_BANG_","cljs.core/dec","G__45499","clojure.core.reducers/drop","clojure.core.reducers.drop","clojure.core.reducers/Cat","clojure.core.reducers/->Cat","left","right","cljs.core.concat","cljs.core/seq","G__45513","clojure.core.reducers/cat","ctor","clojure.core.reducers.cat","cljs.core/count","clojure.core.reducers/append!","acc","x","G__45518","clojure.core.reducers/foldcat","clojure.core.reducers/monoid","op","a","b","clojure.core.reducers/foldvec","cljs.core/empty?","split","cljs.core/quot","v1","cljs.core.subvec","v2","fc","child","t2","G__45523","G__45524","goog.object/set","cljs.core/PersistentVector"],"sourcesContent":[";   Copyright (c) Rich Hickey. All rights reserved.\n;   The use and distribution terms for this software are covered by the\n;   Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)\n;   which can be found in the file epl-v10.html at the root of this distribution.\n;   By using this software in any fashion, you are agreeing to be bound by\n;   the terms of this license.\n;   You must not remove this notice, or any other, from this software.\n\n(ns ^{:doc\n      \"A library for reduction and parallel folding. Alpha and subject\n      to change.  Note that fold and its derivatives require\n      jsr166y.jar for fork/join support. See Clojure's pom.xml for the\n      dependency info.\"\n      :author \"Rich Hickey\"}\n  clojure.core.reducers\n  (:refer-clojure :exclude [reduce map mapcat filter remove take take-while drop flatten cat])\n  (:require [cljs.core :as core]))\n\n;;;;;;;;;;;;;; some fj stuff ;;;;;;;;;;\n(defn- fjtask [f]\n  f)\n\n(defn- fjinvoke [f]\n  (f))\n\n(defn- fjfork [task]\n  task)\n\n(defn- fjjoin [task]\n  (task))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n(defn reduce\n  \"Like core/reduce except:\n     When init is not provided, (f) is used.\n     Maps are reduced with reduce-kv\"\n  ([f coll] (reduce f (f) coll))\n  ([f init coll]\n     (if (map? coll)\n       (-kv-reduce coll f init)\n       (cond\n         (nil? coll) init\n         (array? coll) (#'array-reduce coll f init)\n         :else (-reduce coll f init)))))\n\n(defprotocol CollFold\n  (coll-fold [coll n combinef reducef]))\n\n(defn fold\n  \"Reduces a collection using a (potentially parallel) reduce-combine\n  strategy. The collection is partitioned into groups of approximately\n  n (default 512), each of which is reduced with reducef (with a seed\n  value obtained by calling (combinef) with no arguments). The results\n  of these reductions are then reduced with combinef (default\n  reducef). combinef must be associative, and, when called with no\n  arguments, (combinef) must produce its identity element. These\n  operations may be performed in parallel, but the results will\n  preserve order.\n\n  Note: Performing operations in parallel is currently not implemented.\"\n  ([reducef coll] (fold reducef reducef coll))\n  ([combinef reducef coll] (fold 512 combinef reducef coll))\n  ([n combinef reducef coll]\n     (coll-fold coll n combinef reducef)))\n\n(defn reducer\n  \"Given a reducible collection, and a transformation function xf,\n  returns a reducible collection, where any supplied reducing\n  fn will be transformed by xf. xf is a function of reducing fn to\n  reducing fn.\"\n  ([coll xf]\n     (reify\n       cljs.core/IReduce\n       (-reduce [this f1]\n         (-reduce this f1 (f1)))\n       (-reduce [_ f1 init]\n         (-reduce coll (xf f1) init)))))\n\n(defn folder\n  \"Given a foldable collection, and a transformation function xf,\n  returns a foldable collection, where any supplied reducing\n  fn will be transformed by xf. xf is a function of reducing fn to\n  reducing fn.\"\n  ([coll xf]\n     (reify\n       cljs.core/IReduce\n       (-reduce [_ f1]\n         (-reduce coll (xf f1) (f1)))\n       (-reduce [_ f1 init]\n         (-reduce coll (xf f1) init))\n\n       CollFold\n       (coll-fold [_ n combinef reducef]\n         (coll-fold coll n combinef (xf reducef))))))\n\n(defcurried map\n  \"Applies f to every value in the reduction of coll. Foldable.\"\n  {}\n  [f coll]\n  (folder coll\n   (fn [f1]\n     (rfn [f1 k]\n          ([ret k v]\n             (f1 ret (f k v)))))))\n\n(defcurried mapcat\n  \"Applies f to every value in the reduction of coll, concatenating the result\n  colls of (f val). Foldable.\"\n  {}\n  [f coll]\n  (folder coll\n   (fn [f1]\n     (rfn [f1 k]\n          ([ret k v]\n             (reduce f1 ret (f k v)))))))\n\n(defcurried filter\n  \"Retains values in the reduction of coll for which (pred val)\n  returns logical true. Foldable.\"\n  {}\n  [pred coll]\n  (folder coll\n   (fn [f1]\n     (rfn [f1 k]\n          ([ret k v]\n             (if (pred k v)\n               (f1 ret k v)\n               ret))))))\n\n(defcurried flatten\n  \"Takes any nested combination of sequential things (lists, vectors,\n  etc.) and returns their contents as a single, flat foldable\n  collection.\"\n  {}\n  [coll]\n  (folder coll\n   (fn [f1]\n     (fn\n       ([] (f1))\n       ([ret v]\n          (if (sequential? v)\n            (-reduce (flatten v) f1 ret)\n            (f1 ret v)))))))\n\n(defcurried remove\n  \"Removes values in the reduction of coll for which (pred val)\n  returns logical true. Foldable.\"\n  {}\n  [pred coll]\n  (filter (complement pred) coll))\n\n(defcurried take-while\n  \"Ends the reduction of coll when (pred val) returns logical false.\"\n  {}\n  [pred coll]\n  (reducer coll\n   (fn [f1]\n     (rfn [f1 k]\n          ([ret k v]\n             (if (pred k v)\n               (f1 ret k v)\n               (reduced ret)))))))\n\n(defcurried take\n  \"Ends the reduction of coll after consuming n values.\"\n  {}\n  [n coll]\n  (reducer coll\n   (fn [f1]\n     (let [cnt (atom n)]\n       (rfn [f1 k]\n         ([ret k v]\n            (swap! cnt dec)\n            (if (neg? @cnt)\n              (reduced ret)\n              (f1 ret k v))))))))\n\n(defcurried drop\n  \"Elides the first n values from the reduction of coll.\"\n  {}\n  [n coll]\n  (reducer coll\n   (fn [f1]\n     (let [cnt (atom n)]\n       (rfn [f1 k]\n         ([ret k v]\n            (swap! cnt dec)\n            (if (neg? @cnt)\n              (f1 ret k v)\n              ret)))))))\n\n;;do not construct this directly, use cat\n(deftype Cat [cnt left right]\n  cljs.core/ICounted\n  (-count [_] cnt)\n\n  cljs.core/ISeqable\n  (-seq [_] (concat (seq left) (seq right)))\n\n  cljs.core/IReduce\n  (-reduce [this f1] (-reduce this f1 (f1)))\n  (-reduce\n    [_  f1 init]\n    (-reduce\n     right f1\n     (-reduce left f1 init)))\n\n  CollFold\n  (coll-fold\n    [this n combinef reducef]\n    (-reduce this reducef)))\n\n(defn cat\n  \"A high-performance combining fn that yields the catenation of the\n  reduced values. The result is reducible, foldable, seqable and\n  counted, providing the identity collections are reducible, seqable\n  and counted. The single argument version will build a combining fn\n  with the supplied identity constructor. Tests for identity\n  with (zero? (count x)). See also foldcat.\"\n  ([] (array))\n  ([ctor]\n     (fn\n       ([] (ctor))\n       ([left right] (cat left right))))\n  ([left right]\n     (cond\n       (zero? (count left)) right\n       (zero? (count right)) left\n       :else\n       (Cat. (+ (count left) (count right)) left right))))\n\n(defn append!\n  \".adds x to acc and returns acc\"\n  [acc x]\n  (doto acc (.push x)))\n\n(defn foldcat\n  \"Equivalent to (fold cat append! coll)\"\n  [coll]\n  (fold cat append! coll))\n\n(defn monoid\n  \"Builds a combining fn out of the supplied operator and identity\n  constructor. op must be associative and ctor called with no args\n  must return an identity value for it.\"\n  [op ctor]\n  (fn m\n    ([] (ctor))\n    ([a b] (op a b))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(comment\n(require '[clojure.core.reduce :as r])\n(def v (take 1000000 (range)))\n(reduce + 0 (r/map inc [1 2 3 4]))\n(into [] (r/take 12 (range 100)))\n(into [] (r/drop 12 (range 100)))\n(reduce + 0 (r/filter even? [1 2 3 4]))\n(into [] (r/filter even? [1 2 3 4]))\n(reduce + (filter even? [1 2 3 4]))\n(dotimes [_ 10] (time (reduce + 0 (r/map inc v))))\n(dotimes [_ 10] (time (reduce + 0 (map inc v))))\n(dotimes [_ 100] (time (reduce + 0 v)))\n(dotimes [_ 100] (time (reduce + 0 v)))\n(dotimes [_ 20] (time (reduce + 0 (r/map inc (r/filter even? v)))))\n(dotimes [_ 20] (time (reduce + 0 (map inc (filter even? v)))))\n(reduce + 0 (r/take-while even? [2 4 3]))\n(into [] (r/filter even? (r/flatten (r/remove #{4} [[1 2 3] 4 [5 [6 7 8]] [9] 10]))))\n(into [] (r/flatten nil))\n)\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; fold impls ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(defn- foldvec\n  [v n combinef reducef]\n  (cond\n   (empty? v) (combinef)\n   (<= (count v) n) (reduce reducef (combinef) v)\n   :else\n   (let [split (quot (count v) 2)\n         v1 (subvec v 0 split)\n         v2 (subvec v split (count v))\n         fc (fn [child] #(foldvec child n combinef reducef))]\n     (fjinvoke\n      #(let [f1 (fc v1)\n             t2 (fjtask (fc v2))]\n         (fjfork t2)\n         (combinef (f1) (fjjoin t2)))))))\n\n(extend-protocol CollFold\n nil\n (coll-fold\n  [coll n combinef reducef]\n  (combinef))\n\n object\n (coll-fold\n  [coll n combinef reducef]\n  ;;can't fold, single reduce\n  (reduce reducef (combinef) coll))\n\n cljs.core/PersistentVector\n (coll-fold\n  [v n combinef reducef]\n  (foldvec v n combinef reducef))\n\n #_\n cljs.core/PersistentHashMap\n #_\n (coll-fold\n  [m n combinef reducef]\n  (.fold m n combinef reducef fjinvoke fjtask fjfork fjjoin)))\n\n"]}